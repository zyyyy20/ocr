# 环境安装（Windows）

本文档用于安装本项目所用环境版本：

- Python: 3.10.7
- PaddlePaddle（paddle）: 3.2.2
- PaddleOCR（paddleocr）: 3.4.0

## 1) 创建 Python 虚拟环境

在本目录打开 PowerShell，执行：

```powershell
python -m venv .venv
.\.venv\Scripts\Activate.ps1
python -m pip install -U pip
```

如果你使用的是 Conda，也可以自行创建 `python=3.10.7` 的环境后再继续后续步骤。

## 2) 安装 PaddlePaddle 3.2.2（CPU）

```powershell
python -m pip install -U "paddlepaddle==3.2.2"
```

说明：

- 本项目已在 `paddlepaddle==3.2.2` 上验证可用。
- 若使用 `paddlepaddle==3.3.0`，在部分 CPU(oneDNN) 推理路径上可能遇到 `ConvertPirAttribute2RuntimeAttribute` 相关报错，因此建议使用 3.2.2。

## 3) 安装 PaddleOCR 3.4.0

```powershell
python -m pip install -U "paddleocr==3.4.0"
```

## 4) 验证安装结果

```powershell
python -c "import sys; import paddle, paddleocr; print(sys.version.replace('\n',' ')); print('paddle', paddle.__version__); print('paddleocr', paddleocr.__version__)"
```

期望输出包含：

- Python 3.10.7
- paddle 3.2.2
- paddleocr 3.4.0

## 5) 常见问题

### 1) 版本冲突/装错版本

可以先卸载再重装：

```powershell
python -m pip uninstall -y paddlepaddle paddleocr
python -m pip install -U "paddlepaddle==3.2.2" "paddleocr==3.4.0"
```

### 2) PowerShell 执行策略导致无法激活 venv

可用以下命令为当前用户放开策略后重试：

```powershell
Set-ExecutionPolicy -Scope CurrentUser RemoteSigned
```

