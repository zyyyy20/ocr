# pp-ocr-test 使用说明

## 目录文件

- `hello.py`：最简单的 Python 示例
- `11.py`：PaddleOCR 示例（含可视化逻辑）
- `run_ocr_local.py`：一键输出版本信息并对指定图片做 OCR（推荐直接运行这个）

## 环境信息（当前机器实测）

- Python：3.10.7
- paddle(paddlepaddle)：3.2.2
- paddleocr：3.4.0

## 1) 运行最简单示例

在当前目录打开终端执行：

```powershell
python hello.py
```

## 2) 对指定图片做 OCR（推荐）

脚本：`run_ocr_local.py`

- 图片路径写在脚本内的 `IMAGE_PATH`，当前已设置为：
  - `C:\Users\Admin\Desktop\Snipaste_2026-02-06_10-50-16.png`

运行命令：

```powershell
python -u run_ocr_local.py
```

脚本输出包含：

- Python / paddle / paddleocr 版本
- 图片路径
- OCR 识别结果（每行：文本 + 置信度）

## 3) 运行 11.py（可视化脚本）

`11.py` 里 `img_path` 已改成你的绝对路径：

- `C:\Users\Admin\Desktop\Snipaste_2026-02-06_10-50-16.png`

运行命令：

```powershell
python 11.py
```

注意：

- `11.py` 里 `draw_ocr(..., font_path='./fonts/simfang.ttf')` 需要你提供本地字体文件；否则可能会因为找不到字体而报错。

## 常见问题

### 1) 报错：ConvertPirAttribute2RuntimeAttribute ... onednn_instruction.cc

这是 `paddlepaddle==3.3.0` 在 CPU(oneDNN) 推理上的已知报错。已通过降级 `paddlepaddle` 解决。

如果你后续升级又出现该报错，可执行：

```powershell
python -m pip install -U "paddlepaddle==3.2.2"
```

### 2) PowerShell 下不要用 `python - <<PY` 这种写法

PowerShell 不支持这种 heredoc 语法。请使用：

- `python -c "..."`（单行）
- 或直接运行 `.py` 脚本

